<div class="mainBodyWithBg">

  <section class="container text-center" *ngIf="activeSection === 'profile'">
    <section class="profile-bg">
      <form [formGroup]="registerForm" class="billingInfo">
        <div class="inner-content">
          <div class="d-inline tab-btn-group">
            <button class="btn tab-btn active" (click)="openSection('profile')">Profile</button>
            <button class="btn tab-btn " (click)="openSection('subscription')">Subscription</button>
          </div>
          <div class="row biForm">
            <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12">

              <h4 class="form-title">Account</h4>
              <div class="form-group">
                <label for="cname">*Customer Name</label>
                <input  type="text" id="cname" name="cname" formControlName="name" class="form-control input-box" />
                <div class="error-text" *ngIf="registerForm.get('name').touched && registerForm.get('name').hasError('required')">
                  Name can't be blank
                </div>
              </div>
              <div class="form-group">
                <label for="uname">User Name</label>
                <input
                  type="text"
                  id="uname"
                  placeholder="user_name"
                  name="uname"
                  disabled
                  formControlName="username"
                  class="form-control input-box"
                />
              </div>
              <div class="form-group">
                <label for="password">Password</label>
                <input
                  type="text"
                  id="password"
                  placeholder="**********"
                  name="password"
                  value="**********"
                  disabled
                  class="form-control input-box"
                />
              </div>
<!--              <div class="cpassword">-->
<!--                <a href="#" class="change-pwd-txt"-->
<!--                >Change Password</a-->
<!--                >-->
<!--              </div>-->
              <div class="form-group">
                <label for="mobile">Mobile</label>
                <input
                  type="text"
                  id="mobile"
                  placeholder="+91 98100 98100"
                  name="mobile"
                  formControlName="mobile"
                  class="form-control input-box"
                />
                <div class="error-text" *ngIf="registerForm.get('mobile').touched && registerForm.get('mobile').hasError('required')">
                  Mobile number can't be blank
                </div>
                <div class="error-text" *ngIf="registerForm.get('mobile').touched && registerForm.get('mobile').hasError('NumericError')">
                  Enter valid mobile number
                </div>
                <div class="error-text" *ngIf="registerForm.get('mobile').touched && registerForm.get('mobile').hasError('minlength')">
                  Mobile number must be minimum of 10 numbers and max of 12 numbers
                </div>
              </div>
              <div class="form-group">
                <label for="mail">E-mail</label>
                <input
                  type="text"
                  id="mail"
                  placeholder="abc@gmail.com"
                  name="mail"
                  formControlName="email"
                  class="form-control input-box"
                />
                <div class="error-text" *ngIf="registerForm.get('email').touched && registerForm.get('email').hasError('required')">
                  E-mail can't be blank
                </div>
                <div class="error-text" *ngIf="registerForm.get('email').touched && registerForm.get('email').hasError('email')">
                  please enter valid email
                </div>
              </div>
            </div>
            <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12">
              <h4 class="form-title">Billing Address</h4>
              <div class="form-group">
                <label for="address">*Line 1</label>
                <input
                  type="text"
                  id="address"
                  name="address"
                  formControlName="address"
                  class="form-control input-box w320"
                />
                <div   class="error-text" *ngIf="registerForm.get('address').touched && registerForm.get('address').hasError('required')">
                  Line 1 can't be blank
                </div>
              </div>
              <div class="form-group">
                <label for="address">Line 2</label>
                <input
                  type="text"
                  id="line2"
                  name="line2"
                  formControlName="line2"
                  class="form-control input-box w320"
                />
              </div>
              <div class="country-city">
                <div class="row">
                  <div class="col-12">
                    <div class="form-group pull-left column-1">
                      <label for="country">*Country</label>
                      <select
                        style="padding: 0rem !important;"
                        id="country"
                        formControlName="country"
                        class="form-control input-box w130"
                      >
                        <option value="" >- Please select country -</option>

                        <option *ngFor="let country of contryList" [value]="country.value">{{country.label}}</option>

                      </select>
                      <div   class="error-text" *ngIf="registerForm.get('country').touched && registerForm.get('country').hasError('required')">
                        Country can't be blank
                      </div>
                    </div>
                    <div class="form-group pull-left">
                      <label for="city" class="col2">*City</label>
                      <input  type="text" id="city"  name="city" formControlName="city" class="form-control input-box" />
                      <div   class="error-text" *ngIf="registerForm.get('city').touched && registerForm.get('city').hasError('required')">
                        City can't be blank
                      </div>
                    </div>
                    <div class="form-group">
                      <label for="code">*Zip Code</label>
                      <input type="text" id="code" name="code" formControlName="zipcode" class="form-control input-box" />
                      <div style="margin-top: -7px !important;" class="error-text" *ngIf="registerForm.get('zipcode').touched && registerForm.get('zipcode').hasError('required')">
                        Zip Code can't be blank
                      </div>
                      <div style="margin-top: -7px !important;" class="error-text" *ngIf="registerForm.get('zipcode').touched && registerForm.get('zipcode').hasError('minlength')">
                        Zip Code must be 5 to 6 digits
                      </div>
                      <div style="margin-top: -7px !important;" class="error-text" *ngIf="registerForm.get('zipcode').touched && registerForm.get('zipcode').hasError('maxlength')">
                        Zip Code must be 5 to 6 digits
                      </div>
                      <div style="margin-top: -7px !important;" class="error-text" *ngIf="registerForm.get('zipcode').touched && registerForm.get('zipcode').hasError('NumericError')">
                        Only numbers allowed
                      </div>
                    </div>
                  </div>
                </div>
              </div>

            </div>
          </div>
          <div class="container-fluid text-center">
            <button (click)="updateProfile()" [disabled]="!registerForm.valid" type="button" class="save-changes-btn">
              Save Changes
            </button>
          </div>


        </div>
      </form>
    </section>
  </section>

</div>


<section class="container text-center" *ngIf="activeSection === 'subscription'">
  <section class="profile-bg">

    <div class="inner-content">
      <div class="d-inline tab-btn-group">
        <button class="btn tab-btn" (click)="openSection('profile')">Profile</button>
        <button class="btn tab-btn active" (click)="openSection('subscription')">Subscription</button>
      </div>
      <div class="row">
        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
          <h4 class="form-title">Subscription</h4>
          <div class="part1">
            <label class="plan-name-txt" >{{selectedSubscription[0]?.subscriptionName}} Plan</label>

            <ul class="list plan-def">
              <li *ngFor="let feature of selectedSubscription[0]?.featureList">
                <label>
            <span style="width: 100% !important;font-size: 15px !important;" class="lable-txt">
              {{feature}}</span>
                </label
                >
              </li>
            </ul>

            <div class="currency-sec">
              <span class="currency">{{selectedSubscription[0]?.subscriptionCost}}<span class="mx-2">$</span></span
              ><span class="month-txt">/{{selectedSubscription[0]?.subscriptionValidityPeriodInMonth}} month(s)</span>
            </div>
          </div>
          <div class="part2">
            <label class="plan-name-txt" ><b>Start Date</b></label>
            <br>
            <span>{{getDate(userDetails?.customerSubscriptionStartDate)}}</span>
            <br>
            <br>
            <label class="plan-name-txt" ><b>Ends On</b></label>
            <br>
            <span>{{getDate(userDetails?.customerSubscriptionEndDate)}}</span>
          </div>
          <div class="container-fluid text-center">
            <button (click)="renewSubScription()"  type="button" class="save-changes-btn">
              Renew Subscription
            </button>
          </div>
        </div>
      </div>
    </div>

  </section>
</section>


<app-loading *ngIf="loading"></app-loading>
